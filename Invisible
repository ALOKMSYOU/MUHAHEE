local player = game.Players.LocalPlayer
local key = Enum.KeyCode.X
local invis_on = false
local savedPosition = nil
local loopWarp = false
local warpTarget = Vector3.new(0, 10, 0)

-- UI Setup
local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
screenGui.Name = "InvisWarpUI"
screenGui.ResetOnSpawn = false
screenGui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame", screenGui)
frame.Size = UDim2.new(0, 150, 0, 280)
frame.Position = UDim2.new(0.5, -75, 0.5, -140)
frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
frame.Active = true
frame.Draggable = true
frame.Name = "MainFrame"

local toggleButton = Instance.new("TextButton", frame)
toggleButton.Size = UDim2.new(0, 130, 0, 30)
toggleButton.Position = UDim2.new(0, 10, 0, 30)
toggleButton.Text = "‡∏à‡∏á‡∏°‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏Å‡∏π"
toggleButton.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleButton.Font = Enum.Font.SourceSans
toggleButton.TextScaled = true

local closeButton = Instance.new("TextButton", frame)
closeButton.Size = UDim2.new(0, 20, 0, 20)
closeButton.Position = UDim2.new(1, -25, 0, 5)
closeButton.Text = "X"
closeButton.BackgroundColor3 = Color3.fromRGB(255, 100, 0)
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.Font = Enum.Font.SourceSans
closeButton.TextSize = 18

local saveButton = Instance.new("TextButton", frame)
saveButton.Size = UDim2.new(0, 130, 0, 25)
saveButton.Position = UDim2.new(0, 10, 0, 0)
saveButton.Text = "‡πÄ‡∏ã‡∏ü‡∏û‡∏¥‡∏Å‡∏±‡∏î"
saveButton.BackgroundColor3 = Color3.fromRGB(0, 200, 100)
saveButton.TextColor3 = Color3.fromRGB(255, 255, 255)
saveButton.Font = Enum.Font.SourceSans
saveButton.TextScaled = true

local warpBackButton = Instance.new("TextButton", frame)
warpBackButton.Size = UDim2.new(0, 130, 0, 25)
warpBackButton.Position = UDim2.new(0, 10, 0, 60)
warpBackButton.Text = "‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏Å‡∏•‡∏±‡∏ö"
warpBackButton.BackgroundColor3 = Color3.fromRGB(255, 170, 0)
warpBackButton.TextColor3 = Color3.fromRGB(255, 255, 255)
warpBackButton.Font = Enum.Font.SourceSans
warpBackButton.TextScaled = true

local clearButton = Instance.new("TextButton", frame)
clearButton.Size = UDim2.new(0, 20, 0, 20)
clearButton.Position = UDim2.new(1, -25, 1, -25)
clearButton.Text = "-"
clearButton.BackgroundColor3 = Color3.fromRGB(200, 0, 0)
clearButton.TextColor3 = Color3.fromRGB(255, 255, 255)
clearButton.Font = Enum.Font.SourceSans
clearButton.TextSize = 18

local loopButton = Instance.new("TextButton", frame)
loopButton.Size = UDim2.new(0, 130, 0, 25)
loopButton.Position = UDim2.new(0, 10, 0, 90)
loopButton.Text = "üîÅ Loop ‡∏ß‡∏≤‡∏£‡πå‡∏õ: OFF"
loopButton.BackgroundColor3 = Color3.fromRGB(140, 80, 255)
loopButton.TextColor3 = Color3.fromRGB(255, 255, 255)
loopButton.Font = Enum.Font.SourceSans
loopButton.TextScaled = true

local coordBox = Instance.new("TextBox", frame)
coordBox.Size = UDim2.new(0, 130, 0, 25)
coordBox.Position = UDim2.new(0, 10, 0, 120)
coordBox.PlaceholderText = "X, Y, Z"
coordBox.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
coordBox.TextColor3 = Color3.fromRGB(255, 255, 255)
coordBox.Font = Enum.Font.SourceSans
coordBox.TextScaled = true

local copyButton = Instance.new("TextButton", frame)
copyButton.Size = UDim2.new(0, 130, 0, 25)
copyButton.Position = UDim2.new(0, 10, 0, 150)
copyButton.Text = "üìã ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏û‡∏¥‡∏Å‡∏±‡∏î"
copyButton.BackgroundColor3 = Color3.fromRGB(80, 200, 255)
copyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
copyButton.Font = Enum.Font.SourceSans
copyButton.TextScaled = true

local signatureLabel = Instance.new("TextLabel", frame)
signatureLabel.Size = UDim2.new(1, 0, 0, 10)
signatureLabel.Position = UDim2.new(0, 0, 1, -10)
signatureLabel.Text = "By: ChatAbc ,RB: Storm"
signatureLabel.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
signatureLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
signatureLabel.Font = Enum.Font.SourceSans
signatureLabel.TextScaled = true
signatureLabel.TextTransparency = 0.3

-- Roblox icon ‡∏¢‡πà‡∏≠ UI
local icon = Instance.new("ImageButton", screenGui)
icon.Size = UDim2.new(0, 40, 0, 40)
icon.Position = UDim2.new(0, 10, 0, 10)
icon.BackgroundTransparency = 1
icon.Image = "rbxasset://textures/Logo128.png"

icon.MouseButton1Click:Connect(function()
	frame.Visible = not frame.Visible
end)

-- Sound
local sound = Instance.new("Sound", player:WaitForChild("PlayerGui"))
sound.SoundId = "rbxassetid://942127495"
sound.Volume = 1

-- Transparency function
local function setTransparency(character, transparency)
	for _, part in pairs(character:GetDescendants()) do
		if part:IsA("BasePart") or part:IsA("Decal") then
			part.Transparency = transparency
		end
	end
end

-- Invisibility logic
local function toggleInvisibility()
	invis_on = not invis_on
	sound:Play()
	local char = player.Character
	if not char then return end

	if invis_on then
		savedPosition = char.HumanoidRootPart.CFrame
		char:MoveTo(Vector3.new(-25.95, 84, 3537.55))
		task.wait(0.15)

		local seat = Instance.new("Seat", workspace)
		seat.Anchored = false
		seat.CanCollide = false
		seat.Name = "invischair"
		seat.Transparency = 1
		seat.Position = Vector3.new(-25.95, 84, 3537.55)

		local weld = Instance.new("Weld", seat)
		weld.Part0 = seat
		weld.Part1 = char:FindFirstChild("Torso") or char:FindFirstChild("UpperTorso")

		task.wait()
		seat.CFrame = savedPosition
		setTransparency(char, 0.5)
	else
		local invisChair = workspace:FindFirstChild("invischair")
		if invisChair then invisChair:Destroy() end
		setTransparency(char, 0)
	end
end

-- Button Events
toggleButton.MouseButton1Click:Connect(toggleInvisibility)

saveButton.MouseButton1Click:Connect(function()
	local char = player.Character
	if char then
		savedPosition = char.HumanoidRootPart.CFrame
		saveButton.Text = "‚úÖ ‡πÄ‡∏ã‡∏ü‡πÅ‡∏•‡πâ‡∏ß"
		task.delay(2, function() saveButton.Text = "‡πÄ‡∏ã‡∏ü‡∏û‡∏¥‡∏Å‡∏±‡∏î" end)
	end
end)

warpBackButton.MouseButton1Click:Connect(function()
	if savedPosition and player.Character then
		player.Character.HumanoidRootPart.CFrame = savedPosition
		savedPosition = nil
	end
end)

clearButton.MouseButton1Click:Connect(function()
	savedPosition = nil
end)

loopButton.MouseButton1Click:Connect(function()
	local text = coordBox.Text
	local x, y, z = string.match(text, "(-?%d+%.?%d*),%s*(-?%d+%.?%d*),%s*(-?%d+%.?%d*)")
	if x and y and z then
		warpTarget = Vector3.new(tonumber(x), tonumber(y), tonumber(z))
		loopWarp = not loopWarp
		loopButton.Text = loopWarp and "üîÅ Loop ‡∏ß‡∏≤‡∏£‡πå‡∏õ: ON" or "üîÅ Loop ‡∏ß‡∏≤‡∏£‡πå‡∏õ: OFF"
	else
		coordBox.Text = "‚ùå ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ú‡∏¥‡∏î"
	end
end)

copyButton.MouseButton1Click:Connect(function()
	local char = player.Character
	if char then
		local pos = char.HumanoidRootPart.Position
		local text = string.format("Vector3.new(%.2f, %.2f, %.2f)", pos.X, pos.Y, pos.Z)
		setclipboard(text)
		copyButton.Text = "‚úÖ ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß"
		task.delay(2, function() copyButton.Text = "üìã ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏û‡∏¥‡∏Å‡∏±‡∏î" end)
	end
end)

game:GetService("UserInputService").InputBegan:Connect(function(input, gpe)
	if
